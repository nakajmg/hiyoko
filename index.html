<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>(\( ⁰⊖⁰)/) hiyoko</title>
    <style>
      [v-cloak] {
        display: none;
      }
    </style>
    <link rel="stylesheet" href="./dist/app.css"/>
    <link rel="stylesheet" href="./css/github.css"/>
    <link rel="stylesheet" href="./css/font-awesome.min.css"/>
  </head>
<body>
<main id="app" v-cloak>
  <div class="l-main">
    <div class="l-menu">
      <list-menu :state.sync="menuState"></list-menu>
    </div>
    <div class="l-posts">
      <list-post
        v-ref:listPosts
        :posts.sync="posts"
        :state="menuState.posts"
        :current="current">
      </list-post>
    </div>
    <div class="l-md state-bottom" >
      <div class="l-md__toolbar">
        <hiyoko-toolbar
          v-ref:toolbar
          :post.sync="currentPost"
          :state.sync="config"
        ></hiyoko-toolbar>
      </div>
      <div class="l-input" v-show="config.editor && currentPost">
        <hiyoko-editor
          v-ref:editor
          :delay="config.delay"
          :current.sync="current"
          :post.sync="currentPost"
          :posts.sync="posts">
        </hiyoko-editor>
      </div>
      <div class="l-preview" v-show="config.preview && currentPost">
        <hiyoko-preview
          v-ref:preview
          :post.sync="currentPost"
        ></hiyoko-preview>
      </div>
    </div>
  </div>
  <!-- dialog components -->
  <dialog-input v-ref:dialogInput></dialog-input>
  <dialog-confirm v-ref:dialogConfirm></dialog-confirm>
  <dialog-loader v-ref:dialogLoader></dialog-loader>
  <dialog-notify v-ref:dialogNotify></dialog-notify>
  <!-- /dialog components -->
</main>

<script>var $ = jQuery = require("./lib/jquery.min");</script>
<script src="./lib/jquery.selection.js"></script>
<script src="./lib/jquery.esarea.js"></script>
<script src="./lib/pouchdb.min.js"></script>
<script src="./lib/pouchdb.find.min.js"></script>
<script src="./app.v2.js"></script>
<script>
$(function() {
  $(document).on("click", ".l-main a[href]", function(e) {
    e.originalEvent.preventDefault();
    var href = $(this).attr("href");
    require("shell").openExternal(href);
  });
});
</script>
<script>require('electron-connect').client.create()</script>
</body>
</html>
