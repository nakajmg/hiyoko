<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>(\( ⁰⊖⁰)/) hiyoko</title>
    <style>
      [v-cloak] {
        display: none;
      }
    </style>
    <link rel="stylesheet" href="./dist/app.css"/>
    <link rel="stylesheet" href="./css/github.css"/>
    <link rel="stylesheet" href="./css/font-awesome.min.css"/>
  </head>
<body>
<main id="app" v-cloak>
  <div class="l-main">
    <section class="l-menu">
      <list-menu :state.sync="menuState"></list-menu>
    </section>

    <section class="l-main__right">
      <section class="l-header">
        <hiyoko-header
          :search.sync="search"
          ></hiyoko-header>
      </section>

      <section class="l-main__contents">
        <div class="l-category" v-show="menuState.category" v-el:category>
          <list-category
            :state="menuState"
            :search="search"
            :categories="categories"
            >
          </list-category>
        </div>
        <div class="l-posts" v-show="menuState.posts" v-el:posts>
          <list-post
            :posts.sync="posts"
            :state="menuState"
            :current="current"
            :search="search"
            >
          </list-post>
        </div>

        <div class="l-md state-bottom" v-if="currentPost" v-show="config.preview">

          <div class="l-preview" v-show="config.preview && currentPost">
            <hiyoko-preview
              v-ref:preview
              :post.sync="currentPost"
              :state.sync="config"
              :readonly="true"
              ></hiyoko-preview>
          </div>
          <div class="l-md__toolbar" v-if="currentPost">
            <hiyoko-toolbar
              v-ref:toolbar
              :post.sync="currentPost"
              :state.sync="config"
              ></hiyoko-toolbar>
          </div>
        </div>
      </section>
    </section>

  </div>
  <hiyoko-settings v-show="menuState.settings">

  </hiyoko-settings>
  <!-- dialog components -->
  <dialog-input v-ref:dialogInput></dialog-input>
  <dialog-confirm v-ref:dialogConfirm></dialog-confirm>
  <dialog-loader v-ref:dialogLoader></dialog-loader>
  <dialog-notify v-ref:dialogNotify></dialog-notify>
  <!-- /dialog components -->
</main>

<script>var $ = jQuery = require("./lib/jquery.min");</script>
<script src="./lib/jquery.selection.js"></script>
<script src="./lib/jquery.esarea.js"></script>
<script src="./lib/pouchdb.min.js"></script>
<script src="./lib/pouchdb.find.min.js"></script>
<script src="./app.v2.js"></script>
<script>
$(function() {
  $(document).on("click", ".l-main a[href]", function(e) {
    e.originalEvent.preventDefault();
    var href = $(this).attr("href");
    require("shell").openExternal(href);
  });
});
</script>
<script>require('electron-connect').client.create()</script>
</body>
</html>
